---
import { Search } from "@/components/Search";
import { H1 } from "@/components/typography";
import Layout from "@/layouts/Layout.astro";
import { getSketchSlugs } from "@/utils/getSketchUrls";
import { cx, css } from "@/styled-system/css";
export const prerender = true;

const list = await getSketchSlugs();
const { pathname: path } = Astro.url;
---

<script>
  import { animate, spring } from "motion";

  animate(
    ".heading",
    {
      opacity: [0, 1],
      x: [-100, 0],
    },
    {
      duration: 0.3,
      easing: spring(),
    },
  );
</script>

<Layout title="Sketches" maxW="2xl">
  <H1 class={cx(css({ opacity: 0 }), "heading")}>Search Sketches</H1>
  <Search {path} {list} client:only />
</Layout>
