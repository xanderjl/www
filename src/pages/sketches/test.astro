---
import { capitalCase } from 'change-case'

import Sketch from '@/components/Sketch.astro'
import Layout from '@/layouts/Layout.astro'

export const prerender = true

const { pathname } = Astro.url
const title = capitalCase(pathname.split('/').pop() ?? '')
---

<script>
  import p5 from 'p5'
  import { sketch } from '@/utils/p5'
  import type { Draw } from '@/utils/p5'

  const dimensions: number[] = [1200, 1200]
  const padding: number[] = [40]
  const background = [255, 253, 252]

  const draw: Draw = p5 => {
    p5.ellipse(50, 50, 80, 80)
  }

  sketch({ p5, dimensions, background, padding, draw })
</script>
<Layout {title}>
  <Sketch />
</Layout>
