---
import { getCollection } from "astro:content";

import { Search } from "@/components/Search";
import { H1 } from "@/components/typography";
import Layout from "@/layouts/Layout.astro";
import { css } from "@/styled-system/css";

export const prerender = true;

const { pathname: path } = Astro.url;
const writing = await getCollection("writing");
const list = writing.map((item) => item.slug);
---

<Layout title="Writing" maxW="2xl">
  <H1 class={css({ pb: 4 })}>Search Writing</H1>
  <Search {path} {list} client:load />
</Layout>
